
<h1>Action</h1>

<div class="fusio-search">
    <form name="actionSearchForm" ng-submit="doSearch(search)">
        <div class="row">
            <div class="col-md-12">
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="search" placeholder="Search i.e. action-name" />
                    <div class="input-group-btn">
                        <a class="btn btn-primary fusio-btn-create" ng-click="openCreateDialog()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                    </div>
                    <div class="input-group-btn">
                        <a class="btn btn-default" ng-click="help.showDialog('help/action.md')"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></a>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div uib-alert class="alert-success" close="closeResponse()" ng-if="response.success === true">
    {{response.message}}
</div>

<div uib-alert class="alert-danger" close="closeResponse()" ng-if="response.success === false">
    {{response.message}}
</div>

<div class="row">
    <div class="col-md-2">
        <div class="panel panel-default">
            <div class="panel-heading">Action</div>
            <div class="panel-body">
                <div class="fusio-route-navigation">
                    <ul>
                        <li ng-repeat="row in actions">
                            <a ng-href="#!/action/{{row.id}}" title="{{row.name}}">
                                <b ng-if="action.name == row.name">{{row.name}}</b>
                                <span ng-if="action.name != row.name">{{row.name}}</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <ul uib-pager total-items="totalResults" items-per-page="16" ng-model="startIndex" ng-change="pageChanged()" max-size="10"></ul>
            </div>
        </div>
    </div>
    <div class="col-md-10">
        <div class="panel panel-default">
            <div class="panel-heading">&nbsp;{{action.name}}</div>
            <div class="panel-body">
                <div class="btn-group" role="group">
                    <button type="button" ng-click="openUpdateDialog(action)" class="btn btn-primary fusio-btn-update">Edit</button>
                    <a ng-href="#!/action/designer/{{action.id}}" class="btn btn-default fusio-btn-ui">Designer</a>
                    <button type="button" ng-click="openDeleteDialog(action)" class="btn btn-danger fusio-btn-delete">Delete</button>
                </div>
                <br><br>
                <div class="form-group" ng-if="action.name">
                    <label>Name:</label>
                    <div class="row">
                        <div class="col-md-12">
                            <p>{{action.name}}</p>
                        </div>
                    </div>
                </div>
                <div class="form-group" ng-if="action.class">
                    <label>Class:</label>
                    <div class="row">
                        <div class="col-md-12">
                            <code>{{action.class}}</code>
                        </div>
                    </div>
                </div>
                <div class="form-group" ng-if="action.engine">
                    <label>Engine:</label>
                    <div class="row">
                        <div class="col-md-12">
                            <code>{{action.engine}}</code>
                        </div>
                    </div>
                </div>
                <div class="form-group" ng-if="action.config">
                    <label>Config:</label>
                    <div class="row">
                        <div class="col-md-12">
                            <pre>{{action.config}}</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
